# 🎯 手势戳泡泡规则说明

## 📋 **戳泡泡检测规则**

### 1. **手势检测优先级**
```
1. 食指尖 (最精确) - 置信度 > 0.6
2. 手腕位置 (备用) - 置信度 > 0.5
```

### 2. **戳泡泡判定条件**
- **检测点**: 食指尖 > 手腕 (按优先级)
- **碰撞范围**: 泡泡半径 + 20px 容错范围
- **双手支持**: 左右手同时可以戳泡泡
- **防重复**: 100ms 冷却时间防止重复戳破

### 3. **手势状态显示**
- **👆**: 检测到食指尖 (精确模式)
- **✋**: 检测到手腕 (备用模式)  
- **❌**: 未检测到手势
- **绿色**: 手势活跃状态

## 🎮 **游戏操作指南**

### **启动步骤**
1. 点击"摄像头: 关" → "摄像头: 开"
2. 允许浏览器摄像头权限
3. 在右侧面板看到自己的画面
4. 伸出食指开始戳泡泡！

### **最佳手势**
- **推荐**: 伸出食指，其他手指收起
- **备用**: 整个手掌 (精度较低)
- **距离**: 距离摄像头 50-100cm
- **角度**: 正面面对摄像头

### **戳泡泡技巧**
1. **精确戳击**: 用食指尖直接指向泡泡
2. **快速移动**: 食指在泡泡间快速移动
3. **双手协作**: 左右手同时戳不同泡泡
4. **预判轨迹**: 预测泡泡移动路径

## 🎨 **Tokyo2020 小人模式**

### **切换方式**
- 点击右侧面板的"小人模式"按钮
- 在标准模式和Tokyo2020小人模式间切换

### **显示效果**
- **标准模式**: 绿色骨架线 + 红色关节点
- **小人模式**: Tokyo2020奥运风格棕色小人

### **技术特点**
- 使用原版Tokyo2020-Pictogram算法
- 真实比例和关节连接
- 奥运会官方配色方案

## 🔧 **技术参数**

### **检测精度**
```javascript
// 食指尖检测
LEFT_INDEX: 19,  RIGHT_INDEX: 20
minConfidence: 0.6

// 手腕备用检测  
LEFT_WRIST: 15,  RIGHT_WRIST: 16
minConfidence: 0.5
```

### **碰撞检测**
```javascript
// 泡泡碰撞算法
distance = sqrt((handX - bubbleX)² + (handY - bubbleY)²)
collision = distance <= (bubbleRadius + 20px)
cooldown = 100ms
```

### **坐标转换**
```javascript
// 镜像修正 (自然交互)
gameX = canvasWidth - cameraX
gameY = cameraY
```

## 🎯 **得分系统**

### **基础得分**
- 每个泡泡: +10分
- 连续戳破: 无额外奖励 (保持简单)

### **手势奖励**
- 食指精确戳破: 标准得分
- 手腕戳破: 标准得分 (无惩罚)

### **特殊效果**
- 戳破时泡泡消失动画
- 鼓励性文字提示
- 实时手势状态反馈

## 🐛 **常见问题**

### **手势不识别**
1. 确保光线充足
2. 手部完全在摄像头视野内
3. 尝试调整手势角度
4. 检查摄像头权限

### **戳不破泡泡**
1. 确保食指尖对准泡泡中心
2. 检查右侧面板手势状态显示
3. 尝试更明显的手势动作
4. 降级到鼠标模式测试

### **画面卡顿**
1. 关闭其他占用摄像头的应用
2. 刷新页面重新初始化
3. 尝试降低浏览器其他标签页负载

现在你的游戏支持真正的手势戳泡泡了！🎉