# 📱 iPad使用指南

## 快速开始

### 1. 启动服务器

在电脑上运行：

```bash
python scripts/start_for_ipad.py
```

### 2. 获取访问地址

启动后会显示类似这样的信息：
```
📱 本机IP地址: 10.36.68.251
🌐 HTTPS端口: 8443
```

### 3. iPad访问

在iPad的Safari浏览器中访问：
```
https://10.36.68.251:8443/src/frontend/index.html
```
（将IP地址替换为你看到的实际地址）

### 4. 处理安全警告

首次访问会看到"此连接不是私密连接"警告：
1. 点击"显示详细信息"
2. 点击"访问此网站"
3. 确认继续

### 5. 开始游戏

1. 点击"启用摄像头"按钮
2. 允许摄像头权限
3. 用手势控制游戏！

## ⚠️ 常见问题

### 无法连接到服务器

**检查清单：**
- [ ] iPad和电脑在同一WiFi网络
- [ ] 防火墙允许Python和相关端口
- [ ] IP地址输入正确
- [ ] 服务器正在运行

**Windows防火墙设置：**
1. 打开"Windows Defender 防火墙"
2. 点击"允许应用通过防火墙"
3. 找到Python，确保"专用"和"公用"都勾选
4. 或者临时关闭防火墙测试

### 摄像头无法使用

**可能原因：**
- 必须使用HTTPS（不能用HTTP）
- 需要允许Safari访问摄像头
- iPad设置中检查Safari权限

**解决方法：**
1. iPad设置 → Safari → 摄像头
2. 选择"询问"或"允许"

### 游戏卡顿

**优化建议：**
- 确保WiFi信号强
- 关闭iPad上其他应用
- 降低游戏画质设置
- 保持适当距离（1-2米）

### WebSocket连接失败

**检查：**
- 端口8765是否被占用
- 防火墙是否阻止WebSocket
- 尝试重启服务器

## 💡 使用技巧

### 最佳体验设置

1. **横屏使用** - 更大的游戏区域
2. **充足光线** - 提高姿势检测准确度
3. **稳定支架** - 固定iPad位置
4. **适当距离** - 1-2米最佳

### 多人游戏

- 可以多个iPad同时连接同一服务器
- 每个iPad独立游戏
- 适合教室或活动室使用

## 🔧 高级配置

### 修改端口

编辑 `scripts/start_for_ipad.py`：

```python
# HTTPS端口（默认8443）
https_script, "8443"  # 改为其他端口

# WebSocket端口（默认8765）
"--port", "8765"  # 改为其他端口
```

### 性能优化

编辑 `src/backend/pose_websocket_server.py`：

```python
# 降低分辨率提高性能
"--width", "640",   # 默认1280
"--height", "480"   # 默认720
```

## 📊 网络要求

- **最低带宽**: 2 Mbps
- **推荐带宽**: 5 Mbps
- **延迟**: < 100ms
- **WiFi**: 2.4GHz或5GHz

## 🎯 适用场景

- **家庭娱乐** - 客厅大屏+iPad控制
- **教育机构** - 多个iPad同时使用
- **康复训练** - 便携式训练设备
- **活动室** - 儿童互动游戏

## 📞 故障排除

如果以上方法都不行：

1. **重启所有设备**
   - 关闭服务器
   - 重启电脑和iPad
   - 重新连接WiFi

2. **使用USB连接**
   - iPad通过USB连接电脑
   - 使用iTunes共享网络
   - 访问 `https://localhost:8443`

3. **检查系统日志**
   - 查看服务器终端输出
   - 检查是否有错误信息

## 🚀 下一步

- 尝试不同的游戏模式
- 调整难度设置
- 记录游戏数据
- 分享给朋友一起玩！
